{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,aCCO,SAASC,EAAeC,KAAQC,GACrC,MAAO,GAAGC,UAAUD,EAAOE,KAAK,CAACC,EAAKC,KAClC,MAAMC,EAASL,EAAOM,MAAM,GAC5BD,EAAOE,OAAOH,EAAG,GACjB,MAAMI,EAAS,IAAI,IAAIC,IAAI,GAAGR,UAAUI,KACxC,OAAOF,EAAIO,QAAQC,IACdH,EAAOI,MAAKC,GAAKF,EAAEZ,KAASc,EAAEd,MAClC,I,CCRA,MAAMe,EAAyBC,GAC7BA,EAAMb,KAAK,EAACc,GAACA,EAAEC,KAAEA,EAAIC,SAAEA,EAAQC,KAAEA,EAAIC,MAAEA,KACrC,6DACeJ,MAAOA,MAAOC,KAAQC,KAAYC,KAAQC,mEAElDJ,0BACEC,mCACSC,8BACLC,+BACEC,wCAGrBC,KAAK,IFP+B,MACvC,GAAIC,aAAaC,QAAQ,aAAuE,IAAxDC,KAAKC,MAAMH,aAAaC,QAAQ,aAAaG,OAE9E,CACL,MAAMC,EAAwBH,KAAKC,MAAMH,aAAaC,QAAQ,aACxDK,EAAY9B,EAAe,KAAMF,EAAAiC,GAAIF,GAC3CG,EAAAC,KAAKC,OAAOC,mBAAmB,aAAcnB,EAAsBc,G,MAJnEE,EAAAC,KAAKC,OAAOC,mBAAmB,aAAcnB,EAAsBlB,EAAAiC,I,EAOvEK,GA0CAJ,EAAAC,KAAKI,KAAKC,iBAAiB,SAxCNC,IACnB,MAAMC,EAASD,EAAEC,OAEjB,GAAGA,EAAOC,QACR,GAAGjB,aAAaC,QAAQ,YAAa,CACnC,MAAMpB,EAAMqB,KAAKC,MAAMH,aAAaC,QAAQ,aACtCiB,EAAM,CACVxB,GAAIsB,EAAOtB,GACXC,KAAMqB,EAAOrB,KACbC,SAAUoB,EAAOG,QAAQvB,SACzBC,KAAMmB,EAAOG,QAAQtB,KACrBC,MAAOkB,EAAOG,QAAQrB,OAETjB,EAAIS,MAAO8B,GAAQA,EAAI1B,KAAOsB,EAAOtB,MAElDb,EAAIwC,KAAKH,GAEXlB,aAAasB,QAAQ,WAAYpB,KAAKqB,UAAU1C,G,KAC3C,CACL,MAAM2C,EAAmB,GACnBJ,EAAM,CACV1B,GAAIsB,EAAOtB,GACXC,KAAMqB,EAAOrB,KACbC,SAAUoB,EAAOG,QAAQvB,SACzBC,KAAMmB,EAAOG,QAAQtB,KACrBC,MAAOkB,EAAOG,QAAQrB,OAExB0B,EAAiBH,KAAKD,GACtBpB,aAAasB,QAAQ,WAAYpB,KAAKqB,UAAUC,G,KAE7C,CACL,MACMC,EADMvB,KAAKC,MAAMH,aAAaC,QAAQ,aACzBb,QAAQgC,GAAQA,EAAI1B,KAAOsB,EAAOtB,KACrDM,aAAasB,QAAQ,WAAYpB,KAAKqB,UAAUE,G,KAQpDjB,EAAAC,KAAKiB,OAAOZ,iBAAiB,SAHP,IAAMa,SAASC","sources":["src/js/home.js","src/js/arrayDiffByKey.js","src/js/createHtmlGalleryImgs.js"],"sourcesContent":["import { db } from \"./db\";\nimport { refs } from \"./refsElements\";\nimport { arrayDiffByKey } from \"./arrayDiffByKey\";\nimport { createHtmlGalleryImgs } from \"./createHtmlGalleryImgs\";\n\nconst insertFromLocalStorageHtmlObject = () =>{\n  if(!localStorage.getItem(\"Dogovora\") || JSON.parse(localStorage.getItem(\"Dogovora\")).length === 0) {\n    refs.divRow.insertAdjacentHTML(\"afterbegin\", createHtmlGalleryImgs(db));\n  } else {\n    const arrayFromLocalStorage = JSON.parse(localStorage.getItem(\"Dogovora\"));\n    const different = arrayDiffByKey('id', db, arrayFromLocalStorage);  \n    refs.divRow.insertAdjacentHTML(\"afterbegin\", createHtmlGalleryImgs(different));\n  }\n};\ninsertFromLocalStorageHtmlObject();\n\nconst onFormInput = (e) => {\n  const target = e.target;\n\n  if(target.checked){\n    if(localStorage.getItem(\"Dogovora\")) {\n      const arr = JSON.parse(localStorage.getItem(\"Dogovora\"));\n      const obj = {\n        id: target.id,\n        name: target.name,\n        document: target.dataset.document,\n        year: target.dataset.year,\n        month: target.dataset.month,\n      };\n      const findID = arr.some( (obj) => obj.id === target.id);  \n      if(!findID) {\n        arr.push(obj);\n      }\n      localStorage.setItem(\"Dogovora\", JSON.stringify(arr));\n    } else {\n      const arrayObjDogovors = [];\n      const obj = {\n        id: target.id,\n        name: target.name,\n        document: target.dataset.document,\n        year: target.dataset.year,\n        month: target.dataset.month,\n      };\n      arrayObjDogovors.push(obj);\n      localStorage.setItem(\"Dogovora\", JSON.stringify(arrayObjDogovors));\n    }\n  } else {\n    const arr = JSON.parse(localStorage.getItem(\"Dogovora\"));\n    const newArr = arr.filter((obj) => obj.id !== target.id);\n    localStorage.setItem(\"Dogovora\", JSON.stringify(newArr));\n  }\n\n};\n\nconst onButtonClick = () => location.reload();\n\nrefs.form.addEventListener('input', onFormInput);\nrefs.button.addEventListener('click', onButtonClick);\n","// Difference between Arrays of Objects\nexport function arrayDiffByKey(key, ...arrays) {\n  return [].concat(...arrays.map( (arr, i) => {\n      const others = arrays.slice(0);\n      others.splice(i, 1);\n      const unique = [...new Set([].concat(...others))];\n      return arr.filter( x =>\n          !unique.some(y => x[key] === y[key])\n      );\n  }));\n};\n\n","export const createHtmlGalleryImgs = (array) => {\n  return array.map( ({id, name, document, year, month}) => {\n    return `<div class=\"container-item-row\">\n            <label for=\"${id}\">${id}) ${name} ${document} ${year} ${month}</label>\n            <input type=\"checkbox\" \n            id=\"${id}\" \n            name=\"${name}\" \n            data-document=\"${document}\" \n            data-year=${year} \n            data-month=\"${month}\"\n            >\n          </div>`\n  }).join('');\n};"],"names":["$jPzW1","parcelRequire","$b6db4bddd74d68cb$export$2399b0649e5124c3","key","arrays","concat","map","arr","i","others","slice","splice","unique","Set","filter","x","some","y","$a3d6fb9e2103b208$export$118704896e5326b5","array","id","name","document","year","month","join","localStorage","getItem","JSON","parse","length","arrayFromLocalStorage","different","db","$yDxjJ","refs","divRow","insertAdjacentHTML","$7a8fb0f659835779$var$insertFromLocalStorageHtmlObject","form","addEventListener","e","target","checked","obj1","dataset","obj","push","setItem","stringify","arrayObjDogovors","newArr","button","location","reload"],"version":3,"file":"index.7e6d7635.js.map"}